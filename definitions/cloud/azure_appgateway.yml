provider: azure
service: application-gateway
slug: azure_appgateway
display_name: App Gateway
entities:
  - name: ApplicationGatewayEntity
    provider: AzureApplicationGateway
    event_type: AzureApplicationGatewaySample
    source: azure/application-gateway
    properties:
      resource_type: Microsoft.Network/applicationGateways
      aggregate_dimensions: false
    metrics:
    - provider_name: Throughput
      unit: BytesPerSecond
      description: Number of bytes per second the Application Gateway has served
    - provider_name: UnhealthyHostCount
      unit: Count
      #properties:
      #  dimensions:
      #  - BackendSettingsPool
      description: Number of unhealthy backend hosts
    - provider_name: HealthyHostCount
      unit: Count
      #properties:
      #  dimensions:
      #  - BackendSettingsPool
      description: Number of healthy backend hosts
    - provider_name: TotalRequests
      unit: Count
      #properties:
      #  dimensions:
      #  - BackendSettingsPool
      description: Count of successful requests that Application Gateway has served
    - provider_name: AvgRequestCountPerHealthyHost
      unit: Count
      #properties:
      #  dimensions:
      #  - BackendSettingsPool
      description: Average request count per minute per healthy backend host in a pool
    - provider_name: FailedRequests
      unit: Count
      #properties:
      #  dimensions:
      #  - BackendSettingsPool
      description: Count of failed requests that Application Gateway has served
    - provider_name: ResponseStatus
      unit: Count
      #properties:
      #  dimensions:
      #  - HttpStatusGroup
      description: Http response status returned by Application Gateway
    - provider_name: CurrentConnections
      unit: Count
      description: Count of current connections established with Application Gateway
    - provider_name: NewConnectionsPerSecond
      unit: CountPerSecond
      description: New connections per second established with Application Gateway
    - provider_name: CpuUtilization
      unit: Percent
      description: Current CPU utilization of the Application Gateway
    - provider_name: CapacityUnits
      unit: Count
      description: Capacity Units consumed
    - provider_name: FixedBillableCapacityUnits
      unit: Count
      description: Minimum capacity units that will be charged
    - provider_name: EstimatedBilledCapacityUnits
      unit: Count
      description: Estimated capacity units that will be charged
    - provider_name: ComputeUnits
      unit: Count
      description: Compute Units consumed
    - provider_name: BackendResponseStatus
      unit: Count
      #properties:
      #  dimensions:
      #  - BackendServer
      #  - BackendPool
      #  - BackendHttpSetting
      #  - HttpStatusGroup
      description: The number of HTTP response codes generated by the backend members. This does not include any response codes generated by the Application Gateway.
    - provider_name: TlsProtocol
      unit: Count
      #properties:
      #  dimensions:
      #  - Listener
      #  - TlsProtocol
      description: The number of TLS and non-TLS requests initiated by the client that established connection with the Application Gateway. To view TLS protocol distribution, filter by the dimension TLS Protocol.
    - provider_name: BytesSent
      unit: Bytes
      #properties:
      #  dimensions:
      #  - Listener
      description: The total number of bytes sent by the Application Gateway to the clients
    - provider_name: BytesReceived
      unit: Bytes
      #properties:
      #  dimensions:
      #  - Listener
      description: The total number of bytes received by the Application Gateway from the clients
    - provider_name: ClientRtt
      unit: Milliseconds
      #properties:
      #  dimensions:
      #  - Listener
      description: Average round trip time between clients and Application Gateway. This metric indicates how long it takes to establish connections and return acknowledgements
    - provider_name: ApplicationGatewayTotalTime
      unit: Milliseconds
      #properties:
      #  dimensions:
      #  - Listener
      description: Average time that it takes for a request to be processed and its response to be sent. This is calculated as average of the interval from the time when Application Gateway receives the first byte of an HTTP request to the time when the response send operation finishes. It's important to note that this usually includes the Application Gateway processing time, time that the request and response packets are traveling over the network and the time the backend server took to respond.
    - provider_name: BackendConnectTime
      unit: Milliseconds
      #properties:
      #  dimensions:
      #  - Listener
      #  - BackendServer
      #  - BackendPool
      #  - BackendHttpSetting
      description: Time spent establishing a connection with a backend server
    - provider_name: BackendFirstByteResponseTime
      unit: Milliseconds
      #properties:
      #  dimensions:
      #  - Listener
      #  - BackendServer
      #  - BackendPool
      #  - BackendHttpSetting
      description: Time interval between start of establishing a connection to backend server and receiving the first byte of the response header, approximating processing time of backend server
    - provider_name: BackendLastByteResponseTime
      unit: Milliseconds
      #properties:
      #  dimensions:
      #  - Listener
      #  - BackendServer
      #  - BackendPool
      #  - BackendHttpSetting
      description: Time interval between start of establishing a connection to backend server and receiving the last byte of the response body
    - provider_name: MatchedCount
      unit: Count
      #properties:
      #  dimensions:
      #  - RuleGroup
      #  - RuleId
      description: Web Application Firewall v1 Total Rule Distribution for the incoming traffic
    - provider_name: BlockedCount
      unit: Count
      #properties:
      #  dimensions:
      #  - RuleGroup
      #  - RuleId
      description: Web Application Firewall v1 blocked requests rule distribution
    - provider_name: BlockedReqCount
      unit: Count
      description: Web Application Firewall v1 blocked requests count